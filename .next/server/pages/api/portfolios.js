"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/portfolios";
exports.ids = ["pages/api/portfolios"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "zod":
/*!**********************!*\
  !*** external "zod" ***!
  \**********************/
/***/ ((module) => {

module.exports = import("zod");;

/***/ }),

/***/ "(api)/./node_modules/.pnpm/next@15.1.7_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fportfolios&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fportfolios.js&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.1.7_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fportfolios&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fportfolios.js&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/.pnpm/next@15.1.7_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/.pnpm/next@15.1.7_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/.pnpm/next@15.1.7_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_portfolios_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/portfolios.js */ \"(api)/./pages/api/portfolios.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_portfolios_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_portfolios_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_portfolios_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_portfolios_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/portfolios\",\n        pathname: \"/api/portfolios\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_portfolios_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4xLjdfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnBvcnRmb2xpb3MmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRnBvcnRmb2xpb3MuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDc0Q7QUFDdEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHFEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxxREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9wb3J0Zm9saW9zLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wb3J0Zm9saW9zXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcG9ydGZvbGlvc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/.pnpm/next@15.1.7_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fportfolios&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fportfolios.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.js":
/*!*******************************!*\
  !*** ./lib/supabaseClient.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n// /lib/supabaseClient.js\n\nconst SUPABASE_URL = \"https://eewrfrnovaurztxeuczm.supabase.co\";\nconst SUPABASE_ANON_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVld3Jmcm5vdmF1cnp0eGV1Y3ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk1OTY1MzgsImV4cCI6MjA1NTE3MjUzOH0.e-2bqcJRtxlC0rvhqPklembwLG45iNrlIIdLPxXOMf8\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(SUPABASE_URL, SUPABASE_ANON_KEY);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEseUJBQXlCO0FBQzRCO0FBRXJELE1BQU1DLGVBQWVDLDBDQUFvQztBQUN6RCxNQUFNRyxvQkFBb0JILGtOQUF5QztBQUU1RCxNQUFNSyxXQUFXUCxtRUFBWUEsQ0FBQ0MsY0FBY0ksbUJBQW1CIiwic291cmNlcyI6WyIvVXNlcnMvcm95Y2ltL0RvY3VtZW50cy9bNV0gQ29kZS9Qcm9qZWN0cy9zaGFyZWZvbGlvL2xpYi9zdXBhYmFzZUNsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAvbGliL3N1cGFiYXNlQ2xpZW50LmpzXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5jb25zdCBTVVBBQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG5jb25zdCBTVVBBQkFTRV9BTk9OX0tFWSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoU1VQQUJBU0VfVVJMLCBTVVBBQkFTRV9BTk9OX0tFWSk7XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiU1VQQUJBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX0FOT05fS0VZIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.js\n");

/***/ }),

/***/ "(api)/./middleware/errorHandler.js":
/*!************************************!*\
  !*** ./middleware/errorHandler.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withErrorHandler: () => (/* binding */ withErrorHandler)\n/* harmony export */ });\n// /middleware/errorHandler.js\n/**\n * Wrap an API handler with error handling.\n * @param {Function} handler - The Next.js API route handler.\n * @returns {Function} - The wrapped handler.\n */ function withErrorHandler(handler) {\n    return async (req, res)=>{\n        try {\n            await handler(req, res);\n        } catch (error) {\n            console.error('API Error:', error);\n            res.status(500).json({\n                error: error.message || 'Internal server error'\n            });\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlL2Vycm9ySGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsOEJBQThCO0FBRTlCOzs7O0NBSUMsR0FDTSxTQUFTQSxpQkFBaUJDLE9BQU87SUFDcEMsT0FBTyxPQUFPQyxLQUFLQztRQUNqQixJQUFJO1lBQ0YsTUFBTUYsUUFBUUMsS0FBS0M7UUFDckIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxjQUFjQTtZQUM1QkQsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUgsT0FBT0EsTUFBTUksT0FBTyxJQUFJO1lBQXdCO1FBQ3pFO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3JveWNpbS9Eb2N1bWVudHMvWzVdIENvZGUvUHJvamVjdHMvc2hhcmVmb2xpby9taWRkbGV3YXJlL2Vycm9ySGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAvbWlkZGxld2FyZS9lcnJvckhhbmRsZXIuanNcblxuLyoqXG4gKiBXcmFwIGFuIEFQSSBoYW5kbGVyIHdpdGggZXJyb3IgaGFuZGxpbmcuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gVGhlIE5leHQuanMgQVBJIHJvdXRlIGhhbmRsZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IC0gVGhlIHdyYXBwZWQgaGFuZGxlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhFcnJvckhhbmRsZXIoaGFuZGxlcikge1xuICAgIHJldHVybiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGhhbmRsZXIocmVxLCByZXMpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgIl0sIm5hbWVzIjpbIndpdGhFcnJvckhhbmRsZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./middleware/errorHandler.js\n");

/***/ }),

/***/ "(api)/./pages/api/portfolios.js":
/*!*********************************!*\
  !*** ./pages/api/portfolios.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n/* harmony import */ var _services_portfolioService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/portfolioService */ \"(api)/./services/portfolioService.js\");\n/* harmony import */ var _middleware_errorHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../middleware/errorHandler */ \"(api)/./middleware/errorHandler.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_services_portfolioService__WEBPACK_IMPORTED_MODULE_1__]);\n_services_portfolioService__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nasync function handler(req, res) {\n    if (req.method === 'GET') {\n        // Retrieve all portfolios with their positions.\n        const { data, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('portfolios').select('*, positions(*)').order('created_at', {\n            ascending: false\n        });\n        if (error) throw error;\n        return res.status(200).json({\n            portfolios: data\n        });\n    } else if (req.method === 'POST') {\n        const portfolioData = req.body;\n        const portfolio = await (0,_services_portfolioService__WEBPACK_IMPORTED_MODULE_1__.createPortfolio)(portfolioData);\n        return res.status(201).json({\n            portfolio\n        });\n    } else {\n        res.setHeader('Allow', [\n            'GET',\n            'POST'\n        ]);\n        return res.status(405).json({\n            error: 'Method Not Allowed'\n        });\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middleware_errorHandler__WEBPACK_IMPORTED_MODULE_2__.withErrorHandler)(handler));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcG9ydGZvbGlvcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQW1EO0FBQ2M7QUFDRDtBQUVoRSxlQUFlRyxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDN0IsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLE9BQU87UUFDeEIsZ0RBQWdEO1FBQ2hELE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUix5REFBUUEsQ0FDbkNTLElBQUksQ0FBQyxjQUNMQyxNQUFNLENBQUMsbUJBQ1BDLEtBQUssQ0FBQyxjQUFjO1lBQUVDLFdBQVc7UUFBTTtRQUMxQyxJQUFJSixPQUFPLE1BQU1BO1FBQ2pCLE9BQU9ILElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsWUFBWVI7UUFBSztJQUNqRCxPQUFPLElBQUlILElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ2hDLE1BQU1VLGdCQUFnQlosSUFBSWEsSUFBSTtRQUM5QixNQUFNQyxZQUFZLE1BQU1qQiwyRUFBZUEsQ0FBQ2U7UUFDeEMsT0FBT1gsSUFBSVEsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFSTtRQUFVO0lBQzFDLE9BQU87UUFDTGIsSUFBSWMsU0FBUyxDQUFDLFNBQVM7WUFBQztZQUFPO1NBQU87UUFDdEMsT0FBT2QsSUFBSVEsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFTixPQUFPO1FBQXFCO0lBQzVEO0FBQ0Y7QUFFQSxpRUFBZU4sMEVBQWdCQSxDQUFDQyxRQUFRQSxFQUFBIiwic291cmNlcyI6WyIvVXNlcnMvcm95Y2ltL0RvY3VtZW50cy9bNV0gQ29kZS9Qcm9qZWN0cy9zaGFyZWZvbGlvL3BhZ2VzL2FwaS9wb3J0Zm9saW9zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vLi4vbGliL3N1cGFiYXNlQ2xpZW50J1xuaW1wb3J0IHsgY3JlYXRlUG9ydGZvbGlvIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcG9ydGZvbGlvU2VydmljZSdcbmltcG9ydCB7IHdpdGhFcnJvckhhbmRsZXIgfSBmcm9tICcuLi8uLi9taWRkbGV3YXJlL2Vycm9ySGFuZGxlcidcblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAvLyBSZXRyaWV2ZSBhbGwgcG9ydGZvbGlvcyB3aXRoIHRoZWlyIHBvc2l0aW9ucy5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3BvcnRmb2xpb3MnKVxuICAgICAgLnNlbGVjdCgnKiwgcG9zaXRpb25zKCopJylcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBwb3J0Zm9saW9zOiBkYXRhIH0pXG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgY29uc3QgcG9ydGZvbGlvRGF0YSA9IHJlcS5ib2R5XG4gICAgY29uc3QgcG9ydGZvbGlvID0gYXdhaXQgY3JlYXRlUG9ydGZvbGlvKHBvcnRmb2xpb0RhdGEpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgcG9ydGZvbGlvIH0pXG4gIH0gZWxzZSB7XG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCcsICdQT1NUJ10pXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2QgTm90IEFsbG93ZWQnIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aEVycm9ySGFuZGxlcihoYW5kbGVyKVxuIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiY3JlYXRlUG9ydGZvbGlvIiwid2l0aEVycm9ySGFuZGxlciIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJzdGF0dXMiLCJqc29uIiwicG9ydGZvbGlvcyIsInBvcnRmb2xpb0RhdGEiLCJib2R5IiwicG9ydGZvbGlvIiwic2V0SGVhZGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/portfolios.js\n");

/***/ }),

/***/ "(api)/./services/assetService.js":
/*!**********************************!*\
  !*** ./services/assetService.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getOrCreateAsset: () => (/* binding */ getOrCreateAsset)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n/* harmony import */ var _utils_slug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/slug */ \"(api)/./utils/slug.js\");\n// /services/assetService.js\n\n\n/**\n * Upsert an asset by its ticker and optional token name.\n * Uses the asset's slug (derived from the ticker) as the conflict target.\n * @param {string} ticker - E.g. \"SOL\"\n * @param {string} [tokname] - E.g. \"Solana\"\n * @returns {Promise<Object|null>} - The asset record or null on error.\n */ async function getOrCreateAsset(ticker, tokname) {\n    const assetSlug = ticker.toLowerCase();\n    const { data, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('assets').upsert({\n        symbol: ticker.toUpperCase(),\n        name: tokname || ticker.toUpperCase(),\n        slug: assetSlug\n    }, {\n        onConflict: 'slug'\n    } // Resolve conflicts based on the unique slug.\n    ).select().maybeSingle();\n    if (error) {\n        console.error('[Asset Upsert Error]', error);\n        return null;\n    }\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2aWNlcy9hc3NldFNlcnZpY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsNEJBQTRCO0FBQ29CO0FBQ0U7QUFFbEQ7Ozs7OztDQU1DLEdBQ00sZUFBZUUsaUJBQWlCQyxNQUFNLEVBQUVDLE9BQU87SUFDcEQsTUFBTUMsWUFBWUYsT0FBT0csV0FBVztJQUNwQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVIseURBQVFBLENBQ25DUyxJQUFJLENBQUMsVUFDTEMsTUFBTSxDQUNMO1FBQ0VDLFFBQVFSLE9BQU9TLFdBQVc7UUFDMUJDLE1BQU1ULFdBQVdELE9BQU9TLFdBQVc7UUFDbkNFLE1BQU1UO0lBQ1IsR0FDQTtRQUFFVSxZQUFZO0lBQU8sRUFBRSw4Q0FBOEM7TUFFdEVDLE1BQU0sR0FDTkMsV0FBVztJQUVkLElBQUlULE9BQU87UUFDVFUsUUFBUVYsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsT0FBTztJQUNUO0lBRUEsT0FBT0Q7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL3JveWNpbS9Eb2N1bWVudHMvWzVdIENvZGUvUHJvamVjdHMvc2hhcmVmb2xpby9zZXJ2aWNlcy9hc3NldFNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gL3NlcnZpY2VzL2Fzc2V0U2VydmljZS5qc1xuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuLi9saWIvc3VwYWJhc2VDbGllbnQnXG5pbXBvcnQgeyBnZW5lcmF0ZVVuaXF1ZVNsdWcgfSBmcm9tICcuLi91dGlscy9zbHVnJ1xuXG4vKipcbiAqIFVwc2VydCBhbiBhc3NldCBieSBpdHMgdGlja2VyIGFuZCBvcHRpb25hbCB0b2tlbiBuYW1lLlxuICogVXNlcyB0aGUgYXNzZXQncyBzbHVnIChkZXJpdmVkIGZyb20gdGhlIHRpY2tlcikgYXMgdGhlIGNvbmZsaWN0IHRhcmdldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0aWNrZXIgLSBFLmcuIFwiU09MXCJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdG9rbmFtZV0gLSBFLmcuIFwiU29sYW5hXCJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gLSBUaGUgYXNzZXQgcmVjb3JkIG9yIG51bGwgb24gZXJyb3IuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPckNyZWF0ZUFzc2V0KHRpY2tlciwgdG9rbmFtZSkge1xuICBjb25zdCBhc3NldFNsdWcgPSB0aWNrZXIudG9Mb3dlckNhc2UoKVxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdhc3NldHMnKVxuICAgIC51cHNlcnQoXG4gICAgICB7XG4gICAgICAgIHN5bWJvbDogdGlja2VyLnRvVXBwZXJDYXNlKCksXG4gICAgICAgIG5hbWU6IHRva25hbWUgfHwgdGlja2VyLnRvVXBwZXJDYXNlKCksXG4gICAgICAgIHNsdWc6IGFzc2V0U2x1ZyxcbiAgICAgIH0sXG4gICAgICB7IG9uQ29uZmxpY3Q6ICdzbHVnJyB9IC8vIFJlc29sdmUgY29uZmxpY3RzIGJhc2VkIG9uIHRoZSB1bmlxdWUgc2x1Zy5cbiAgICApXG4gICAgLnNlbGVjdCgpXG4gICAgLm1heWJlU2luZ2xlKClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbQXNzZXQgVXBzZXJ0IEVycm9yXScsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gZGF0YVxufVxuIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiZ2VuZXJhdGVVbmlxdWVTbHVnIiwiZ2V0T3JDcmVhdGVBc3NldCIsInRpY2tlciIsInRva25hbWUiLCJhc3NldFNsdWciLCJ0b0xvd2VyQ2FzZSIsImRhdGEiLCJlcnJvciIsImZyb20iLCJ1cHNlcnQiLCJzeW1ib2wiLCJ0b1VwcGVyQ2FzZSIsIm5hbWUiLCJzbHVnIiwib25Db25mbGljdCIsInNlbGVjdCIsIm1heWJlU2luZ2xlIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./services/assetService.js\n");

/***/ }),

/***/ "(api)/./services/portfolioService.js":
/*!**************************************!*\
  !*** ./services/portfolioService.js ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPortfolio: () => (/* binding */ createPortfolio)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n/* harmony import */ var _utils_slug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/slug */ \"(api)/./utils/slug.js\");\n/* harmony import */ var _positionService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./positionService */ \"(api)/./services/positionService.js\");\n/* harmony import */ var _utils_validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/validate */ \"(api)/./utils/validate.js\");\n/* harmony import */ var _utils_mesh__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/mesh */ \"(api)/./utils/mesh.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_validate__WEBPACK_IMPORTED_MODULE_3__]);\n_utils_validate__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n/**\n * Create a portfolio along with optional positions.\n * @param {Object} portfolioData - The portfolio data.\n * @returns {Promise<Object>} - The created portfolio record (with positions if provided).\n */ async function createPortfolio(portfolioData) {\n    // Validate incoming data.\n    const parsed = _utils_validate__WEBPACK_IMPORTED_MODULE_3__.portfolioSchema.safeParse(portfolioData);\n    if (!parsed.success) {\n        throw new Error('Validation failed: ' + parsed.error.errors.map((err)=>err.message).join(', '));\n    }\n    const { name, slug, creator, description, displaypicture, visibility, positions } = portfolioData;\n    const portfolioSlug = slug || (0,_utils_slug__WEBPACK_IMPORTED_MODULE_1__.generateUniqueSlug)('portfolio');\n    const finalDescription = description || '';\n    // If displaypicture is not provided, generate a random SVG mesh gradient.\n    const finalDisplayPicture = displaypicture || (0,_utils_mesh__WEBPACK_IMPORTED_MODULE_4__.generateRandomMeshSVG)();\n    // Check for slug uniqueness.\n    const { data: existing, error: checkError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('portfolios').select('id').eq('slug', portfolioSlug).maybeSingle();\n    if (checkError) {\n        throw new Error('Failed checking slug uniqueness');\n    }\n    if (existing) {\n        throw new Error(`Portfolio slug \"${portfolioSlug}\" already exists. Choose a different slug.`);\n    }\n    // Insert the portfolio record.\n    // Note: We are using only the \"creator\" column for ownership.\n    const { data: insertedPortfolio, error: insertErr } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('portfolios').insert([\n        {\n            name,\n            slug: portfolioSlug,\n            creator,\n            description: finalDescription,\n            displaypicture: finalDisplayPicture,\n            visibility: visibility || 'private'\n        }\n    ]).select().single();\n    if (insertErr || !insertedPortfolio) {\n        throw new Error(insertErr ? insertErr.message : 'Failed to insert portfolio');\n    }\n    let insertedPositions = [];\n    if (positions && Array.isArray(positions) && positions.length > 0) {\n        try {\n            insertedPositions = await (0,_positionService__WEBPACK_IMPORTED_MODULE_2__.createPositions)(insertedPortfolio.id, positions, creator);\n        } catch (err) {\n            // Roll back portfolio creation if positions fail.\n            await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('portfolios').delete().eq('id', insertedPortfolio.id);\n            throw new Error('Positions insert failed. Portfolio creation rolled back.');\n        }\n    }\n    return {\n        ...insertedPortfolio,\n        positions: insertedPositions\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2aWNlcy9wb3J0Zm9saW9TZXJ2aWNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNFO0FBQ0M7QUFDQTtBQUNFO0FBRXJEOzs7O0NBSUMsR0FDTSxlQUFlSyxnQkFBZ0JDLGFBQWE7SUFDakQsMEJBQTBCO0lBQzFCLE1BQU1DLFNBQVNKLDREQUFlQSxDQUFDSyxTQUFTLENBQUNGO0lBQ3pDLElBQUksQ0FBQ0MsT0FBT0UsT0FBTyxFQUFFO1FBQ25CLE1BQU0sSUFBSUMsTUFDUix3QkFDRUgsT0FBT0ksS0FBSyxDQUFDQyxNQUFNLENBQUNDLEdBQUcsQ0FBQyxDQUFDQyxNQUFRQSxJQUFJQyxPQUFPLEVBQUVDLElBQUksQ0FBQztJQUV6RDtJQUVBLE1BQU0sRUFDSkMsSUFBSSxFQUNKQyxJQUFJLEVBQ0pDLE9BQU8sRUFDUEMsV0FBVyxFQUNYQyxjQUFjLEVBQ2RDLFVBQVUsRUFDVkMsU0FBUyxFQUNWLEdBQUdqQjtJQUVKLE1BQU1rQixnQkFBZ0JOLFFBQVFqQiwrREFBa0JBLENBQUM7SUFDakQsTUFBTXdCLG1CQUFtQkwsZUFBZTtJQUV4QywwRUFBMEU7SUFDMUUsTUFBTU0sc0JBQXNCTCxrQkFBa0JqQixrRUFBcUJBO0lBRW5FLDZCQUE2QjtJQUM3QixNQUFNLEVBQUV1QixNQUFNQyxRQUFRLEVBQUVqQixPQUFPa0IsVUFBVSxFQUFFLEdBQUcsTUFBTTdCLHlEQUFRQSxDQUN6RDhCLElBQUksQ0FBQyxjQUNMQyxNQUFNLENBQUMsTUFDUEMsRUFBRSxDQUFDLFFBQVFSLGVBQ1hTLFdBQVc7SUFDZCxJQUFJSixZQUFZO1FBQ2QsTUFBTSxJQUFJbkIsTUFBTTtJQUNsQjtJQUNBLElBQUlrQixVQUFVO1FBQ1osTUFBTSxJQUFJbEIsTUFDUixDQUFDLGdCQUFnQixFQUFFYyxjQUFjLDBDQUEwQyxDQUFDO0lBRWhGO0lBRUEsK0JBQStCO0lBQy9CLDhEQUE4RDtJQUM5RCxNQUFNLEVBQUVHLE1BQU1PLGlCQUFpQixFQUFFdkIsT0FBT3dCLFNBQVMsRUFBRSxHQUFHLE1BQU1uQyx5REFBUUEsQ0FDakU4QixJQUFJLENBQUMsY0FDTE0sTUFBTSxDQUFDO1FBQ047WUFDRW5CO1lBQ0FDLE1BQU1NO1lBQ05MO1lBQ0FDLGFBQWFLO1lBQ2JKLGdCQUFnQks7WUFDaEJKLFlBQVlBLGNBQWM7UUFDNUI7S0FDRCxFQUNBUyxNQUFNLEdBQ05NLE1BQU07SUFFVCxJQUFJRixhQUFhLENBQUNELG1CQUFtQjtRQUNuQyxNQUFNLElBQUl4QixNQUNSeUIsWUFBWUEsVUFBVXBCLE9BQU8sR0FBRztJQUVwQztJQUVBLElBQUl1QixvQkFBb0IsRUFBRTtJQUMxQixJQUFJZixhQUFhZ0IsTUFBTUMsT0FBTyxDQUFDakIsY0FBY0EsVUFBVWtCLE1BQU0sR0FBRyxHQUFHO1FBQ2pFLElBQUk7WUFDRkgsb0JBQW9CLE1BQU1wQyxpRUFBZUEsQ0FDdkNnQyxrQkFBa0JRLEVBQUUsRUFDcEJuQixXQUNBSjtRQUVKLEVBQUUsT0FBT0wsS0FBSztZQUNaLGtEQUFrRDtZQUNsRCxNQUFNZCx5REFBUUEsQ0FBQzhCLElBQUksQ0FBQyxjQUFjYSxNQUFNLEdBQUdYLEVBQUUsQ0FBQyxNQUFNRSxrQkFBa0JRLEVBQUU7WUFDeEUsTUFBTSxJQUFJaEMsTUFBTTtRQUNsQjtJQUNGO0lBRUEsT0FBTztRQUFFLEdBQUd3QixpQkFBaUI7UUFBRVgsV0FBV2U7SUFBa0I7QUFDOUQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb3ljaW0vRG9jdW1lbnRzL1s1XSBDb2RlL1Byb2plY3RzL3NoYXJlZm9saW8vc2VydmljZXMvcG9ydGZvbGlvU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uL2xpYi9zdXBhYmFzZUNsaWVudCdcbmltcG9ydCB7IGdlbmVyYXRlVW5pcXVlU2x1ZyB9IGZyb20gJy4uL3V0aWxzL3NsdWcnXG5pbXBvcnQgeyBjcmVhdGVQb3NpdGlvbnMgfSBmcm9tICcuL3Bvc2l0aW9uU2VydmljZSdcbmltcG9ydCB7IHBvcnRmb2xpb1NjaGVtYSB9IGZyb20gJy4uL3V0aWxzL3ZhbGlkYXRlJ1xuaW1wb3J0IHsgZ2VuZXJhdGVSYW5kb21NZXNoU1ZHIH0gZnJvbSAnLi4vdXRpbHMvbWVzaCdcblxuLyoqXG4gKiBDcmVhdGUgYSBwb3J0Zm9saW8gYWxvbmcgd2l0aCBvcHRpb25hbCBwb3NpdGlvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gcG9ydGZvbGlvRGF0YSAtIFRoZSBwb3J0Zm9saW8gZGF0YS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IC0gVGhlIGNyZWF0ZWQgcG9ydGZvbGlvIHJlY29yZCAod2l0aCBwb3NpdGlvbnMgaWYgcHJvdmlkZWQpLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUG9ydGZvbGlvKHBvcnRmb2xpb0RhdGEpIHtcbiAgLy8gVmFsaWRhdGUgaW5jb21pbmcgZGF0YS5cbiAgY29uc3QgcGFyc2VkID0gcG9ydGZvbGlvU2NoZW1hLnNhZmVQYXJzZShwb3J0Zm9saW9EYXRhKVxuICBpZiAoIXBhcnNlZC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ1ZhbGlkYXRpb24gZmFpbGVkOiAnICtcbiAgICAgICAgcGFyc2VkLmVycm9yLmVycm9ycy5tYXAoKGVycikgPT4gZXJyLm1lc3NhZ2UpLmpvaW4oJywgJylcbiAgICApXG4gIH1cblxuICBjb25zdCB7XG4gICAgbmFtZSxcbiAgICBzbHVnLFxuICAgIGNyZWF0b3IsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZGlzcGxheXBpY3R1cmUsXG4gICAgdmlzaWJpbGl0eSxcbiAgICBwb3NpdGlvbnMsXG4gIH0gPSBwb3J0Zm9saW9EYXRhXG5cbiAgY29uc3QgcG9ydGZvbGlvU2x1ZyA9IHNsdWcgfHwgZ2VuZXJhdGVVbmlxdWVTbHVnKCdwb3J0Zm9saW8nKVxuICBjb25zdCBmaW5hbERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gfHwgJydcblxuICAvLyBJZiBkaXNwbGF5cGljdHVyZSBpcyBub3QgcHJvdmlkZWQsIGdlbmVyYXRlIGEgcmFuZG9tIFNWRyBtZXNoIGdyYWRpZW50LlxuICBjb25zdCBmaW5hbERpc3BsYXlQaWN0dXJlID0gZGlzcGxheXBpY3R1cmUgfHwgZ2VuZXJhdGVSYW5kb21NZXNoU1ZHKClcblxuICAvLyBDaGVjayBmb3Igc2x1ZyB1bmlxdWVuZXNzLlxuICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncG9ydGZvbGlvcycpXG4gICAgLnNlbGVjdCgnaWQnKVxuICAgIC5lcSgnc2x1ZycsIHBvcnRmb2xpb1NsdWcpXG4gICAgLm1heWJlU2luZ2xlKClcbiAgaWYgKGNoZWNrRXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCBjaGVja2luZyBzbHVnIHVuaXF1ZW5lc3MnKVxuICB9XG4gIGlmIChleGlzdGluZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBQb3J0Zm9saW8gc2x1ZyBcIiR7cG9ydGZvbGlvU2x1Z31cIiBhbHJlYWR5IGV4aXN0cy4gQ2hvb3NlIGEgZGlmZmVyZW50IHNsdWcuYFxuICAgIClcbiAgfVxuXG4gIC8vIEluc2VydCB0aGUgcG9ydGZvbGlvIHJlY29yZC5cbiAgLy8gTm90ZTogV2UgYXJlIHVzaW5nIG9ubHkgdGhlIFwiY3JlYXRvclwiIGNvbHVtbiBmb3Igb3duZXJzaGlwLlxuICBjb25zdCB7IGRhdGE6IGluc2VydGVkUG9ydGZvbGlvLCBlcnJvcjogaW5zZXJ0RXJyIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwb3J0Zm9saW9zJylcbiAgICAuaW5zZXJ0KFtcbiAgICAgIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgc2x1ZzogcG9ydGZvbGlvU2x1ZyxcbiAgICAgICAgY3JlYXRvciwgLy8gVXNlIGNyZWF0b3Igb25seS5cbiAgICAgICAgZGVzY3JpcHRpb246IGZpbmFsRGVzY3JpcHRpb24sXG4gICAgICAgIGRpc3BsYXlwaWN0dXJlOiBmaW5hbERpc3BsYXlQaWN0dXJlLFxuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmlsaXR5IHx8ICdwcml2YXRlJyxcbiAgICAgIH0sXG4gICAgXSlcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKClcblxuICBpZiAoaW5zZXJ0RXJyIHx8ICFpbnNlcnRlZFBvcnRmb2xpbykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGluc2VydEVyciA/IGluc2VydEVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBpbnNlcnQgcG9ydGZvbGlvJ1xuICAgIClcbiAgfVxuXG4gIGxldCBpbnNlcnRlZFBvc2l0aW9ucyA9IFtdXG4gIGlmIChwb3NpdGlvbnMgJiYgQXJyYXkuaXNBcnJheShwb3NpdGlvbnMpICYmIHBvc2l0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgdHJ5IHtcbiAgICAgIGluc2VydGVkUG9zaXRpb25zID0gYXdhaXQgY3JlYXRlUG9zaXRpb25zKFxuICAgICAgICBpbnNlcnRlZFBvcnRmb2xpby5pZCxcbiAgICAgICAgcG9zaXRpb25zLFxuICAgICAgICBjcmVhdG9yXG4gICAgICApXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBSb2xsIGJhY2sgcG9ydGZvbGlvIGNyZWF0aW9uIGlmIHBvc2l0aW9ucyBmYWlsLlxuICAgICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgncG9ydGZvbGlvcycpLmRlbGV0ZSgpLmVxKCdpZCcsIGluc2VydGVkUG9ydGZvbGlvLmlkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb3NpdGlvbnMgaW5zZXJ0IGZhaWxlZC4gUG9ydGZvbGlvIGNyZWF0aW9uIHJvbGxlZCBiYWNrLicpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgLi4uaW5zZXJ0ZWRQb3J0Zm9saW8sIHBvc2l0aW9uczogaW5zZXJ0ZWRQb3NpdGlvbnMgfVxufVxuIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiZ2VuZXJhdGVVbmlxdWVTbHVnIiwiY3JlYXRlUG9zaXRpb25zIiwicG9ydGZvbGlvU2NoZW1hIiwiZ2VuZXJhdGVSYW5kb21NZXNoU1ZHIiwiY3JlYXRlUG9ydGZvbGlvIiwicG9ydGZvbGlvRGF0YSIsInBhcnNlZCIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiLCJFcnJvciIsImVycm9yIiwiZXJyb3JzIiwibWFwIiwiZXJyIiwibWVzc2FnZSIsImpvaW4iLCJuYW1lIiwic2x1ZyIsImNyZWF0b3IiLCJkZXNjcmlwdGlvbiIsImRpc3BsYXlwaWN0dXJlIiwidmlzaWJpbGl0eSIsInBvc2l0aW9ucyIsInBvcnRmb2xpb1NsdWciLCJmaW5hbERlc2NyaXB0aW9uIiwiZmluYWxEaXNwbGF5UGljdHVyZSIsImRhdGEiLCJleGlzdGluZyIsImNoZWNrRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJtYXliZVNpbmdsZSIsImluc2VydGVkUG9ydGZvbGlvIiwiaW5zZXJ0RXJyIiwiaW5zZXJ0Iiwic2luZ2xlIiwiaW5zZXJ0ZWRQb3NpdGlvbnMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJpZCIsImRlbGV0ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./services/portfolioService.js\n");

/***/ }),

/***/ "(api)/./services/positionService.js":
/*!*************************************!*\
  !*** ./services/positionService.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPositions: () => (/* binding */ createPositions)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n/* harmony import */ var _assetService_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assetService.js */ \"(api)/./services/assetService.js\");\n/* harmony import */ var _utils_slug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/slug */ \"(api)/./utils/slug.js\");\n// /services/positionService.js\n\n\n\n/**\n * Create positions for a given portfolio.\n * @param {string} portfolioId - The portfolio's ID.\n * @param {Array} positions - An array of position objects.\n * @param {string} creator - The user ID of the creator.\n * @returns {Promise<Array>} - The inserted positions.\n */ async function createPositions(portfolioId, positions, creator) {\n    const preparedPositions = [];\n    for (const pos of positions){\n        // Upsert the asset and obtain its ID.\n        const asset = await (0,_assetService_js__WEBPACK_IMPORTED_MODULE_1__.getOrCreateAsset)(pos.ticker, pos.tokname);\n        if (!asset) {\n            throw new Error(`Failed to upsert asset for ticker ${pos.ticker}`);\n        }\n        preparedPositions.push({\n            portfolio_id: portfolioId,\n            creator: pos.creator || creator,\n            slug: pos.slug || (0,_utils_slug__WEBPACK_IMPORTED_MODULE_2__.generateUniqueSlug)(pos.ticker || 'position'),\n            ticker: pos.ticker.toUpperCase(),\n            tokname: pos.tokname || pos.ticker,\n            quantity: pos.quantity || 0,\n            aq_price: pos.priceUsd,\n            curr_price: pos.priceUsd,\n            aq_usd_value: pos.priceUsd ? pos.priceUsd * pos.quantity : null,\n            curr_usd_value: pos.priceUsd ? pos.priceUsd * pos.quantity : null,\n            asset_id: asset.id\n        });\n    }\n    // Insert all prepared positions.\n    const { data, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('positions').insert(preparedPositions).select();\n    if (error) {\n        console.error('[Positions Insert Error]', error);\n        throw new Error('Positions insert failed.');\n    }\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2aWNlcy9wb3NpdGlvblNlcnZpY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLCtCQUErQjtBQUNpQjtBQUNJO0FBQ0Y7QUFFbEQ7Ozs7OztDQU1DLEdBQ00sZUFBZUcsZ0JBQWdCQyxXQUFXLEVBQUVDLFNBQVMsRUFBRUMsT0FBTztJQUNuRSxNQUFNQyxvQkFBb0IsRUFBRTtJQUU1QixLQUFLLE1BQU1DLE9BQU9ILFVBQVc7UUFDM0Isc0NBQXNDO1FBQ3RDLE1BQU1JLFFBQVEsTUFBTVIsa0VBQWdCQSxDQUFDTyxJQUFJRSxNQUFNLEVBQUVGLElBQUlHLE9BQU87UUFDNUQsSUFBSSxDQUFDRixPQUFPO1lBQ1YsTUFBTSxJQUFJRyxNQUFNLENBQUMsa0NBQWtDLEVBQUVKLElBQUlFLE1BQU0sRUFBRTtRQUNuRTtRQUNBSCxrQkFBa0JNLElBQUksQ0FBQztZQUNyQkMsY0FBY1Y7WUFDZEUsU0FBU0UsSUFBSUYsT0FBTyxJQUFJQTtZQUN4QlMsTUFBTVAsSUFBSU8sSUFBSSxJQUFJYiwrREFBa0JBLENBQUNNLElBQUlFLE1BQU0sSUFBSTtZQUNuREEsUUFBUUYsSUFBSUUsTUFBTSxDQUFDTSxXQUFXO1lBQzlCTCxTQUFTSCxJQUFJRyxPQUFPLElBQUlILElBQUlFLE1BQU07WUFDbENPLFVBQVVULElBQUlTLFFBQVEsSUFBSTtZQUMxQkMsVUFBVVYsSUFBSVcsUUFBUTtZQUN0QkMsWUFBWVosSUFBSVcsUUFBUTtZQUN4QkUsY0FBY2IsSUFBSVcsUUFBUSxHQUFHWCxJQUFJVyxRQUFRLEdBQUdYLElBQUlTLFFBQVEsR0FBRztZQUMzREssZ0JBQWdCZCxJQUFJVyxRQUFRLEdBQUdYLElBQUlXLFFBQVEsR0FBR1gsSUFBSVMsUUFBUSxHQUFHO1lBQzdETSxVQUFVZCxNQUFNZSxFQUFFO1FBQ3BCO0lBQ0Y7SUFFQSxpQ0FBaUM7SUFDakMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU0xQix5REFBUUEsQ0FDbkMyQixJQUFJLENBQUMsYUFDTEMsTUFBTSxDQUFDckIsbUJBQ1BzQixNQUFNO0lBRVQsSUFBSUgsT0FBTztRQUNUSSxRQUFRSixLQUFLLENBQUMsNEJBQTRCQTtRQUMxQyxNQUFNLElBQUlkLE1BQU07SUFDbEI7SUFDQSxPQUFPYTtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvcm95Y2ltL0RvY3VtZW50cy9bNV0gQ29kZS9Qcm9qZWN0cy9zaGFyZWZvbGlvL3NlcnZpY2VzL3Bvc2l0aW9uU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAvc2VydmljZXMvcG9zaXRpb25TZXJ2aWNlLmpzXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uL2xpYi9zdXBhYmFzZUNsaWVudCdcbmltcG9ydCB7IGdldE9yQ3JlYXRlQXNzZXQgfSBmcm9tICcuL2Fzc2V0U2VydmljZS5qcydcbmltcG9ydCB7IGdlbmVyYXRlVW5pcXVlU2x1ZyB9IGZyb20gJy4uL3V0aWxzL3NsdWcnXG5cbi8qKlxuICogQ3JlYXRlIHBvc2l0aW9ucyBmb3IgYSBnaXZlbiBwb3J0Zm9saW8uXG4gKiBAcGFyYW0ge3N0cmluZ30gcG9ydGZvbGlvSWQgLSBUaGUgcG9ydGZvbGlvJ3MgSUQuXG4gKiBAcGFyYW0ge0FycmF5fSBwb3NpdGlvbnMgLSBBbiBhcnJheSBvZiBwb3NpdGlvbiBvYmplY3RzLlxuICogQHBhcmFtIHtzdHJpbmd9IGNyZWF0b3IgLSBUaGUgdXNlciBJRCBvZiB0aGUgY3JlYXRvci5cbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gLSBUaGUgaW5zZXJ0ZWQgcG9zaXRpb25zLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25zKHBvcnRmb2xpb0lkLCBwb3NpdGlvbnMsIGNyZWF0b3IpIHtcbiAgY29uc3QgcHJlcGFyZWRQb3NpdGlvbnMgPSBbXVxuXG4gIGZvciAoY29uc3QgcG9zIG9mIHBvc2l0aW9ucykge1xuICAgIC8vIFVwc2VydCB0aGUgYXNzZXQgYW5kIG9idGFpbiBpdHMgSUQuXG4gICAgY29uc3QgYXNzZXQgPSBhd2FpdCBnZXRPckNyZWF0ZUFzc2V0KHBvcy50aWNrZXIsIHBvcy50b2tuYW1lKVxuICAgIGlmICghYXNzZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwc2VydCBhc3NldCBmb3IgdGlja2VyICR7cG9zLnRpY2tlcn1gKVxuICAgIH1cbiAgICBwcmVwYXJlZFBvc2l0aW9ucy5wdXNoKHtcbiAgICAgIHBvcnRmb2xpb19pZDogcG9ydGZvbGlvSWQsXG4gICAgICBjcmVhdG9yOiBwb3MuY3JlYXRvciB8fCBjcmVhdG9yLFxuICAgICAgc2x1ZzogcG9zLnNsdWcgfHwgZ2VuZXJhdGVVbmlxdWVTbHVnKHBvcy50aWNrZXIgfHwgJ3Bvc2l0aW9uJyksXG4gICAgICB0aWNrZXI6IHBvcy50aWNrZXIudG9VcHBlckNhc2UoKSxcbiAgICAgIHRva25hbWU6IHBvcy50b2tuYW1lIHx8IHBvcy50aWNrZXIsXG4gICAgICBxdWFudGl0eTogcG9zLnF1YW50aXR5IHx8IDAsXG4gICAgICBhcV9wcmljZTogcG9zLnByaWNlVXNkLCAvLyBBc3N1bWluZyBwcmljZVVzZCBhcyBhY3F1aXNpdGlvbiBwcmljZS5cbiAgICAgIGN1cnJfcHJpY2U6IHBvcy5wcmljZVVzZCwgLy8gU2FtZSBhcyBhYm92ZTsgdXBkYXRlIGxhdGVyIGlmIG5lZWRlZC5cbiAgICAgIGFxX3VzZF92YWx1ZTogcG9zLnByaWNlVXNkID8gcG9zLnByaWNlVXNkICogcG9zLnF1YW50aXR5IDogbnVsbCxcbiAgICAgIGN1cnJfdXNkX3ZhbHVlOiBwb3MucHJpY2VVc2QgPyBwb3MucHJpY2VVc2QgKiBwb3MucXVhbnRpdHkgOiBudWxsLFxuICAgICAgYXNzZXRfaWQ6IGFzc2V0LmlkLFxuICAgIH0pXG4gIH1cblxuICAvLyBJbnNlcnQgYWxsIHByZXBhcmVkIHBvc2l0aW9ucy5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncG9zaXRpb25zJylcbiAgICAuaW5zZXJ0KHByZXBhcmVkUG9zaXRpb25zKVxuICAgIC5zZWxlY3QoKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tQb3NpdGlvbnMgSW5zZXJ0IEVycm9yXScsIGVycm9yKVxuICAgIHRocm93IG5ldyBFcnJvcignUG9zaXRpb25zIGluc2VydCBmYWlsZWQuJylcbiAgfVxuICByZXR1cm4gZGF0YVxufVxuIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiZ2V0T3JDcmVhdGVBc3NldCIsImdlbmVyYXRlVW5pcXVlU2x1ZyIsImNyZWF0ZVBvc2l0aW9ucyIsInBvcnRmb2xpb0lkIiwicG9zaXRpb25zIiwiY3JlYXRvciIsInByZXBhcmVkUG9zaXRpb25zIiwicG9zIiwiYXNzZXQiLCJ0aWNrZXIiLCJ0b2tuYW1lIiwiRXJyb3IiLCJwdXNoIiwicG9ydGZvbGlvX2lkIiwic2x1ZyIsInRvVXBwZXJDYXNlIiwicXVhbnRpdHkiLCJhcV9wcmljZSIsInByaWNlVXNkIiwiY3Vycl9wcmljZSIsImFxX3VzZF92YWx1ZSIsImN1cnJfdXNkX3ZhbHVlIiwiYXNzZXRfaWQiLCJpZCIsImRhdGEiLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJzZWxlY3QiLCJjb25zb2xlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./services/positionService.js\n");

/***/ }),

/***/ "(api)/./utils/mesh.js":
/*!***********************!*\
  !*** ./utils/mesh.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateRandomMeshSVG: () => (/* binding */ generateRandomMeshSVG)\n/* harmony export */ });\n/**\n * Generates a random SVG mesh gradient and returns it as a Base64 data URL.\n * This provides a visually appealing fallback image if the user doesn't upload one.\n */ function generateRandomMeshSVG() {\n    const colors = Array.from({\n        length: 3\n    }, ()=>{\n        const r = 100 + Math.floor(Math.random() * 156);\n        const g = 100 + Math.floor(Math.random() * 156);\n        const b = 100 + Math.floor(Math.random() * 156);\n        return `rgb(${r},${g},${b})`;\n    });\n    const svg = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\">\n        <defs>\n          <linearGradient id=\"grad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n            <stop offset=\"0%\" style=\"stop-color:${colors[0]};stop-opacity:1\" />\n            <stop offset=\"100%\" style=\"stop-color:${colors[1]};stop-opacity:1\" />\n          </linearGradient>\n        </defs>\n        <rect width=\"200\" height=\"200\" fill=\"url(#grad)\" />\n      </svg>\n    `;\n    return `data:image/svg+xml;base64,${btoa(svg)}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9tZXNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0NBR0MsR0FDTSxTQUFTQTtJQUNaLE1BQU1DLFNBQVNDLE1BQU1DLElBQUksQ0FBQztRQUFFQyxRQUFRO0lBQUUsR0FBRztRQUN2QyxNQUFNQyxJQUFJLE1BQU1DLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLO1FBQzNDLE1BQU1DLElBQUksTUFBTUgsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUs7UUFDM0MsTUFBTUUsSUFBSSxNQUFNSixLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBSztRQUMzQyxPQUFPLENBQUMsSUFBSSxFQUFFSCxFQUFFLENBQUMsRUFBRUksRUFBRSxDQUFDLEVBQUVDLEVBQUUsQ0FBQyxDQUFDO0lBQzlCO0lBRUEsTUFBTUMsTUFBTSxDQUFDOzs7O2dEQUkrQixFQUFFVixNQUFNLENBQUMsRUFBRSxDQUFDO2tEQUNWLEVBQUVBLE1BQU0sQ0FBQyxFQUFFLENBQUM7Ozs7O0lBSzFELENBQUM7SUFDRCxPQUFPLENBQUMsMEJBQTBCLEVBQUVXLEtBQUtELE1BQU07QUFDakQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb3ljaW0vRG9jdW1lbnRzL1s1XSBDb2RlL1Byb2plY3RzL3NoYXJlZm9saW8vdXRpbHMvbWVzaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSBTVkcgbWVzaCBncmFkaWVudCBhbmQgcmV0dXJucyBpdCBhcyBhIEJhc2U2NCBkYXRhIFVSTC5cbiAqIFRoaXMgcHJvdmlkZXMgYSB2aXN1YWxseSBhcHBlYWxpbmcgZmFsbGJhY2sgaW1hZ2UgaWYgdGhlIHVzZXIgZG9lc24ndCB1cGxvYWQgb25lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21NZXNoU1ZHKCkge1xuICAgIGNvbnN0IGNvbG9ycyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDMgfSwgKCkgPT4ge1xuICAgICAgY29uc3QgciA9IDEwMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE1NilcbiAgICAgIGNvbnN0IGcgPSAxMDAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNTYpXG4gICAgICBjb25zdCBiID0gMTAwICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTU2KVxuICAgICAgcmV0dXJuIGByZ2IoJHtyfSwke2d9LCR7Yn0pYFxuICAgIH0pXG4gIFxuICAgIGNvbnN0IHN2ZyA9IGBcbiAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjAwXCIgaGVpZ2h0PVwiMjAwXCI+XG4gICAgICAgIDxkZWZzPlxuICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD1cImdyYWRcIiB4MT1cIjAlXCIgeTE9XCIwJVwiIHgyPVwiMTAwJVwiIHkyPVwiMTAwJVwiPlxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdHlsZT1cInN0b3AtY29sb3I6JHtjb2xvcnNbMF19O3N0b3Atb3BhY2l0eToxXCIgLz5cbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjEwMCVcIiBzdHlsZT1cInN0b3AtY29sb3I6JHtjb2xvcnNbMV19O3N0b3Atb3BhY2l0eToxXCIgLz5cbiAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxuICAgICAgICA8L2RlZnM+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMjAwXCIgaGVpZ2h0PVwiMjAwXCIgZmlsbD1cInVybCgjZ3JhZClcIiAvPlxuICAgICAgPC9zdmc+XG4gICAgYFxuICAgIHJldHVybiBgZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke2J0b2Eoc3ZnKX1gXG4gIH1cbiAgIl0sIm5hbWVzIjpbImdlbmVyYXRlUmFuZG9tTWVzaFNWRyIsImNvbG9ycyIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsInIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnIiwiYiIsInN2ZyIsImJ0b2EiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/mesh.js\n");

/***/ }),

/***/ "(api)/./utils/slug.js":
/*!***********************!*\
  !*** ./utils/slug.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateUniqueSlug: () => (/* binding */ generateUniqueSlug)\n/* harmony export */ });\n// /utils/slug.js\n/**\n * Generate a unique slug using crypto.randomUUID if available,\n * otherwise fall back to Date.now with a random number.\n * @param {string} prefix - A prefix for the slug.\n * @returns {string} - The generated slug.\n */ function generateUniqueSlug(prefix = 'item') {\n    if (typeof crypto !== 'undefined' && crypto.randomUUID) {\n        return `${prefix}-${crypto.randomUUID()}`;\n    }\n    return `${prefix}-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zbHVnLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpQkFBaUI7QUFFakI7Ozs7O0NBS0MsR0FDTSxTQUFTQSxtQkFBbUJDLFNBQVMsTUFBTTtJQUM5QyxJQUFJLE9BQU9DLFdBQVcsZUFBZUEsT0FBT0MsVUFBVSxFQUFFO1FBQ3RELE9BQU8sR0FBR0YsT0FBTyxDQUFDLEVBQUVDLE9BQU9DLFVBQVUsSUFBSTtJQUMzQztJQUNBLE9BQU8sR0FBR0YsT0FBTyxDQUFDLEVBQUVHLEtBQUtDLEdBQUcsR0FBRyxDQUFDLEVBQUVDLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLLE9BQU87QUFDdEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb3ljaW0vRG9jdW1lbnRzL1s1XSBDb2RlL1Byb2plY3RzL3NoYXJlZm9saW8vdXRpbHMvc2x1Zy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAvdXRpbHMvc2x1Zy5qc1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgdW5pcXVlIHNsdWcgdXNpbmcgY3J5cHRvLnJhbmRvbVVVSUQgaWYgYXZhaWxhYmxlLFxuICogb3RoZXJ3aXNlIGZhbGwgYmFjayB0byBEYXRlLm5vdyB3aXRoIGEgcmFuZG9tIG51bWJlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggLSBBIHByZWZpeCBmb3IgdGhlIHNsdWcuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBnZW5lcmF0ZWQgc2x1Zy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVW5pcXVlU2x1ZyhwcmVmaXggPSAnaXRlbScpIHtcbiAgICBpZiAodHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLnJhbmRvbVVVSUQpIHtcbiAgICAgIHJldHVybiBgJHtwcmVmaXh9LSR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gXG4gICAgfVxuICAgIHJldHVybiBgJHtwcmVmaXh9LSR7RGF0ZS5ub3coKX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gXG4gIH1cbiAgIl0sIm5hbWVzIjpbImdlbmVyYXRlVW5pcXVlU2x1ZyIsInByZWZpeCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJEYXRlIiwibm93IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/slug.js\n");

/***/ }),

/***/ "(api)/./utils/validate.js":
/*!***************************!*\
  !*** ./utils/validate.js ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   portfolioSchema: () => (/* binding */ portfolioSchema),\n/* harmony export */   positionSchema: () => (/* binding */ positionSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"zod\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zod__WEBPACK_IMPORTED_MODULE_0__]);\nzod__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// /utils/validate.js\n\nconst positionSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    ticker: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n    quantity: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().positive(),\n    priceUsd: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().nonnegative().optional(),\n    tokname: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n    slug: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n});\nconst portfolioSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n    creator: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n    owner: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1).optional(),\n    displaypicture: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n    visibility: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n        'public',\n        'private'\n    ]).optional(),\n    positions: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(positionSchema).optional()\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy92YWxpZGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxxQkFBcUI7QUFDRTtBQUVoQixNQUFNQyxpQkFBaUJELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDckNDLFFBQVFILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLEdBQUcsQ0FBQztJQUN2QkMsVUFBVU4sa0NBQUNBLENBQUNPLE1BQU0sR0FBR0MsUUFBUTtJQUM3QkMsVUFBVVQsa0NBQUNBLENBQUNPLE1BQU0sR0FBR0csV0FBVyxHQUFHQyxRQUFRO0lBQzNDQyxTQUFTWixrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHTyxRQUFRO0lBQzVCRSxNQUFNYixrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHTyxRQUFRO0FBRTNCLEdBQUU7QUFFSyxNQUFNRyxrQkFBa0JkLGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDdENhLE1BQU1mLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLEdBQUcsQ0FBQztJQUNyQlcsYUFBYWhCLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdPLFFBQVE7SUFDaENNLFNBQVNqQixrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHLENBQUM7SUFDeEJhLE9BQU9sQixrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBR00sUUFBUTtJQUNqQ1EsZ0JBQWdCbkIsa0NBQUNBLENBQUNJLE1BQU0sR0FBR08sUUFBUTtJQUNuQ1MsWUFBWXBCLGtDQUFDQSxDQUFDcUIsSUFBSSxDQUFDO1FBQUM7UUFBVTtLQUFVLEVBQUVWLFFBQVE7SUFDbERXLFdBQVd0QixrQ0FBQ0EsQ0FBQ3VCLEtBQUssQ0FBQ3RCLGdCQUFnQlUsUUFBUTtBQUM3QyxHQUFFIiwic291cmNlcyI6WyIvVXNlcnMvcm95Y2ltL0RvY3VtZW50cy9bNV0gQ29kZS9Qcm9qZWN0cy9zaGFyZWZvbGlvL3V0aWxzL3ZhbGlkYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIC91dGlscy92YWxpZGF0ZS5qc1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuZXhwb3J0IGNvbnN0IHBvc2l0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICB0aWNrZXI6IHouc3RyaW5nKCkubWluKDEpLFxuICBxdWFudGl0eTogei5udW1iZXIoKS5wb3NpdGl2ZSgpLFxuICBwcmljZVVzZDogei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpLm9wdGlvbmFsKCksXG4gIHRva25hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgc2x1Zzogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAvLyBZb3UgY2FuIGFkZCBhZGRpdGlvbmFsIG9wdGlvbmFsIGZpZWxkcyBoZXJlLlxufSlcblxuZXhwb3J0IGNvbnN0IHBvcnRmb2xpb1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKS5taW4oMSksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGNyZWF0b3I6IHouc3RyaW5nKCkubWluKDEpLFxuICBvd25lcjogei5zdHJpbmcoKS5taW4oMSkub3B0aW9uYWwoKSxcbiAgZGlzcGxheXBpY3R1cmU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdmlzaWJpbGl0eTogei5lbnVtKFsncHVibGljJywgJ3ByaXZhdGUnXSkub3B0aW9uYWwoKSxcbiAgcG9zaXRpb25zOiB6LmFycmF5KHBvc2l0aW9uU2NoZW1hKS5vcHRpb25hbCgpLFxufSlcbiJdLCJuYW1lcyI6WyJ6IiwicG9zaXRpb25TY2hlbWEiLCJvYmplY3QiLCJ0aWNrZXIiLCJzdHJpbmciLCJtaW4iLCJxdWFudGl0eSIsIm51bWJlciIsInBvc2l0aXZlIiwicHJpY2VVc2QiLCJub25uZWdhdGl2ZSIsIm9wdGlvbmFsIiwidG9rbmFtZSIsInNsdWciLCJwb3J0Zm9saW9TY2hlbWEiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJjcmVhdG9yIiwib3duZXIiLCJkaXNwbGF5cGljdHVyZSIsInZpc2liaWxpdHkiLCJlbnVtIiwicG9zaXRpb25zIiwiYXJyYXkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/validate.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.1.7_react-dom@18.3.1_react@18.3.1__react@18.3.1"], () => (__webpack_exec__("(api)/./node_modules/.pnpm/next@15.1.7_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fportfolios&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fportfolios.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();